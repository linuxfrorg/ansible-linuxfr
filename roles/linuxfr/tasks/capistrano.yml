# We simulate capistrano's behaviour.

- name: Create the "development" directory
  file: path={{ linuxfr_home }}/development state=directory

- name: Link the git repository to 'current'
  file: src={{ linuxfr_home }}/source dest={{ linuxfr_home }}/development/current state=link

# Wheezy doesn't create a /var/www anymore, as it is now recommended to put
# this kind of data inside /srv. We create it anyway to mimick the current
# installation process as advertised in the admin-linuxfr.org README file.

- name: Create the /var/www directory
  file: path=/var/www state=directory

- name: Link the linuxfr codebase into /var/www
  file: src={{ linuxfr_home }} dest=/var/www/linuxfr state=link
